// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.14.0
// source: domain_sessions.sql

package database

import (
	"context"
	"database/sql"
	"time"

	"github.com/google/uuid"
)

const createDomainSession = `-- name: CreateDomainSession :one
INSERT INTO domain_sessions (
  id,client_id, event_id, session_start_time, session_end_time, domain_id, created_at, updated_at
) VALUES (
  $1, $2, $3, $4, $5, $6, $7, $8
)
RETURNING id, client_id, event_id, session_start_time, session_end_time, created_at, updated_at, domain_id
`

type CreateDomainSessionParams struct {
	ID               uuid.UUID
	ClientID         string
	EventID          string
	SessionStartTime time.Time
	SessionEndTime   sql.NullTime
	DomainID         uuid.UUID
	CreatedAt        time.Time
	UpdatedAt        time.Time
}

func (q *Queries) CreateDomainSession(ctx context.Context, arg CreateDomainSessionParams) (DomainSession, error) {
	row := q.db.QueryRowContext(ctx, createDomainSession,
		arg.ID,
		arg.ClientID,
		arg.EventID,
		arg.SessionStartTime,
		arg.SessionEndTime,
		arg.DomainID,
		arg.CreatedAt,
		arg.UpdatedAt,
	)
	var i DomainSession
	err := row.Scan(
		&i.ID,
		&i.ClientID,
		&i.EventID,
		&i.SessionStartTime,
		&i.SessionEndTime,
		&i.CreatedAt,
		&i.UpdatedAt,
		&i.DomainID,
	)
	return i, err
}

const getDomainSession = `-- name: GetDomainSession :one
SELECT id, client_id, event_id, session_start_time, session_end_time, created_at, updated_at, domain_id FROM domain_sessions
WHERE client_id = $1 AND event_id = $2
`

type GetDomainSessionParams struct {
	ClientID string
	EventID  string
}

func (q *Queries) GetDomainSession(ctx context.Context, arg GetDomainSessionParams) (DomainSession, error) {
	row := q.db.QueryRowContext(ctx, getDomainSession, arg.ClientID, arg.EventID)
	var i DomainSession
	err := row.Scan(
		&i.ID,
		&i.ClientID,
		&i.EventID,
		&i.SessionStartTime,
		&i.SessionEndTime,
		&i.CreatedAt,
		&i.UpdatedAt,
		&i.DomainID,
	)
	return i, err
}

const updateDomainSession = `-- name: UpdateDomainSession :exec
UPDATE domain_sessions 
  SET session_end_time = $2,
  updated_at = $3
WHERE id = $1
`

type UpdateDomainSessionParams struct {
	ID             uuid.UUID
	SessionEndTime sql.NullTime
	UpdatedAt      time.Time
}

func (q *Queries) UpdateDomainSession(ctx context.Context, arg UpdateDomainSessionParams) error {
	_, err := q.db.ExecContext(ctx, updateDomainSession, arg.ID, arg.SessionEndTime, arg.UpdatedAt)
	return err
}
